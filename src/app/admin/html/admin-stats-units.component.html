<app-common-top-bar active="admin"></app-common-top-bar>

<div class="main">
  <div class="container-fluid">
    <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-header" id="unitDesc" translate>Units</div>
        <div class="card-body">
          <table class="table" aria-labelledby="unitDesc">
            <thead>
              <tr>
               <th scope="column" translate>Name</th>
               <th scope="column" translate>Attack</th>
               <th scope="column" translate>Defense</th>
               <th scope="column" translate>Price</th>
               <th scope="column" translate>Consu</th>
               <th scope="column" translate>P by A</th>
               <th scope="column" translate>P by D</th>
               <th scope="column" translate>C by A</th>
               <th scope="column" translate>C by D</th>
               <th scope="column" translate>A by F</th>
               <th scope="column" translate>D by F</th>
               <th scope="column"></th>
               <th scope="column"></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let unit of armyArray"
                  [ngClass]="{'table-light': unit.type == 1,
                              'table-primary': unit.type == 2,
                              'table-secondary': unit.type == 3,
                              'table-success': unit.type == 4,
                              'table-danger': unit.type == 5,
                              'table-warning': unit.type == 6,
                              'table-info': unit.type == 7,
                              'table-dark': unit.type == 8}">
                <td>{{ unit.name | translate }}</td>
                <td>{{ unit.attack | number:'': this.translate.currentLang }}</td>
                <td>{{ unit.defense | number:'': this.translate.currentLang }}</td>
                <td>{{ unit.globalCost | number:'': this.translate.currentLang }}</td>
                <td>{{ unit.globalConsu | number:'': this.translate.currentLang }}</td>
                
                <td [ngClass]="{'text-danger': checkBest('p_a', unit) }">{{ unit.p_a | number:'': this.translate.currentLang }}</td>
                <td [ngClass]="{'text-danger': checkBest('p_d', unit) }">{{ unit.p_d | number:'': this.translate.currentLang }}</td>
                <td [ngClass]="{'text-danger': checkBest('c_a', unit) }">{{ unit.c_a | number:'': this.translate.currentLang }}</td>
                <td [ngClass]="{'text-danger': checkBest('c_d', unit) }">{{ unit.c_d | number:'': this.translate.currentLang }}</td>
                <td [ngClass]="{'text-danger': checkBest('a_f', unit) }">{{ unit.a_f | number:'': this.translate.currentLang }}</td>
                <td [ngClass]="{'text-danger': checkBest('d_f', unit) }">{{ unit.d_f | number:'': this.translate.currentLang }}</td>
                <td>
                  <span *ngFor="let res of unit.cost | keyvalue">
                    <app-id-to-ress [ress_id]="res.key"></app-id-to-ress>
                  </span>
                </td>
                <td>
                  <span *ngFor="let res of unit.consumption | keyvalue">
                    <app-id-to-ress [ress_id]="res.key"></app-id-to-ress>
                  </span>
                </td>
              </tr>
            </tbody>
          </table>
          
          <table class="table" aria-labelledby="unitDesc">
            <thead>
              <tr>
               <th scope="column" translate>Name</th>
               <th scope="column" translate>Field</th>
               <th scope="column" translate>Defense</th>
               <th scope="column" translate>Price</th>
               <th scope="column" translate>P by D</th>
               <th scope="column" translate>D by F</th>
               <th scope="column"></th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let unit of towersArray">
                <td>{{ unit.name | translate }}</td>
                <td>{{ unit.field | number:'': this.translate.currentLang }}</td>
                <td>{{ unit.defense | number:'': this.translate.currentLang }}</td>
                <td>{{ unit.globalCost | number:'': this.translate.currentLang }}</td>
                
                <td>{{ unit.globalCost/unit.defense | number:'': this.translate.currentLang }}</td>
                <td>{{ unit.defense/unit.field | number:'': this.translate.currentLang }}</td>
                <td>
                  <span *ngFor="let res of unit.cost | keyvalue">
                    <app-id-to-ress [ress_id]="res.key"></app-id-to-ress>
                  </span>
                </td>
                <td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
</div>

<app-common-bottom-bar></app-common-bottom-bar>
