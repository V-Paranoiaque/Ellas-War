<div class="modal-content">
  <div class="modal-header" id="warDesc">
    <h5 *ngIf="info.alliance_attacking == user.getPropertyNb('alliance')"
        class="modal-title">
      {{'Against { value }' | translate: { value: info.name_defender } }}
    </h5>
    <h5 *ngIf="info.alliance_attacking != user.getPropertyNb('alliance')"
        class="modal-title">
      {{'Against { value }' | translate: { value: info.name_attacking } }}
    </h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal" 
            aria-label="Close"></button>
  </div>
  <div class="modal-body container-fluid text-center fw-bold"
       *ngIf="warInfo.list.length === 0" translate>
    No attack has been made yet
  </div>
  
  <div *ngIf="user.getId() > 0"
       class="modal-body container-fluid text-center fw-bold" translate>
    {{'The first alliance to reach { value } victories wins the war, be careful, you also need { value2 } victories in order to win.'| translate:
      { value: user.getDatas().war.victory, value2: user.getDatas().war.diff } }}
    <br/>
    <strong translate>Goal</strong>
    <strong translate>:</strong>
    {{ warVictory() }} <span translate>Victories</span>
    <br/>
    <div *ngIf="warInfo.end">
      <strong translate>End of time</strong>
      <strong translate>:</strong>
      {{warInfo.end*1000| date:'dd/MM, HH:mm'}}
    </div>
  </div>
  <div class="modal-body container-fluid" *ngIf="warInfo.list.length > 0">
    <table class="table table-middle table-striped" aria-labelledby="warDesc">
    <thead>
      <tr>
        <th scope="col" translate>Attacker</th>
        <th scope="col" translate>Defender</th>
        <th scope="col" translate></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let p of warInfo.list"
          [ngClass]="{'bg-danger': p.defender == p.result}">
        <td>
          <app-ic-icon [icon]="swordIcon" *ngIf="p.offender == 1"></app-ic-icon>
          <app-ic-icon [icon]="shieldShaded" *ngIf="p.offender == 0"></app-ic-icon>&nbsp;
          <a [routerLink]="['/profile/'+p.attacking]"
             data-bs-dismiss="modal">{{p.ausername}}</a>
        </td>
        <td>
          <app-ic-icon [icon]="swordIcon" *ngIf="p.offender == 0"></app-ic-icon>
          <app-ic-icon [icon]="shieldShaded" *ngIf="p.offender == 1"></app-ic-icon>&nbsp;
          <a [routerLink]="['/profile/'+p.defender]"
             data-bs-dismiss="modal">{{p.dusername}}</a>
        </td>
        <td>
          {{p.time*1000| date:'dd/MM, HH:mm'}}
        </td>
      </tr>
    </tbody>
    </table>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-secondary"
            data-bs-dismiss="modal" translate>Close</button>
  </div>
</div>

