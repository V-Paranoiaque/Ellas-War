<div class="fw-bold fs-5 position-relative">
  <button type="button" aria-label="Close" class="btn-close quest-giveup"
          *ngIf="quest.quest_validated == 0"
          (click)="promptQuestAbandon()"></button>
  <div class="quest-title">{{ subject }}</div>
</div>
<div class="flex-grow-1">
  <div *ngIf="showDelete == 1" class="text-center">
    <div class="fw-bold text-danger" translate>
      Do you really want to give up this quest?
    </div>
    <button class="btn btn-danger" (click)="questGiveup(quest)"
            translate>Confirm</button>
  </div>
  <div>
    {{ description }}
  </div>
  <div class="position-relative" *ngIf="quest.quest_validated == 0">
    <div class="progress text-center">
      <div class="progress-bar bg-success" role="progressbar" aria-valuenow="0"
           aria-valuemin="0" aria-valuemax="100"
           [ngStyle]="{'width.%': 100*quest.quest_current/quest.quest_goal }"></div>
      <div class="progress-text">
        <span translate>Progress:</span>
        {{quest.quest_current | number:'': this.translate.currentLang}}/{{quest.quest_goal | number:'': this.translate.currentLang}}
      </div>
    </div>
  </div>
  <div class="text-center">
    <strong translate>Reward:</strong>
    {{ quest.reward_quantity | number:'': this.translate.currentLang }}
    <app-ew-icon name="{{quest.reward_ress}}" class="small-icon"></app-ew-icon>
  </div>
</div>
<div class="d-flex" *ngIf="quest.quest_validated == 0">
  <a class="btn btn-primary flex-grow-1 " [routerLink]="['/'+link]" *ngIf="link === 'attacks'" translate>Access to the attacks &gt;&gt;</a>
  <a class="btn btn-primary flex-grow-1 " [routerLink]="['/city']"  *ngIf="link === 'divine'" translate>Access to the Divine powers &gt;&gt;</a>
  <a class="btn btn-primary flex-grow-1 " [routerLink]="['/'+link]" *ngIf="link === 'city'" translate>Access to the city &gt;&gt;</a>
  <a class="btn btn-primary flex-grow-1 " [routerLink]="['/'+link]" *ngIf="link === 'lotto'" translate>Access to the lotto &gt;&gt;</a>
  <a class="btn btn-primary flex-grow-1 " [routerLink]="['/attacks']" *ngIf="link === 'sanctuaries'" translate>Access to the sanctuaries &gt;&gt;</a>
  <a class="btn btn-primary flex-grow-1 " [routerLink]="['/'+link]" *ngIf="link === 'tickets'" translate>Access to the tickets &gt;&gt;</a>
</div>
<div class="d-flex">
  <div class="btn btn-success flex-grow-1" role="button"
       *ngIf="quest.quest_validated == 1"
       (click)="myQuestValidate(quest.quest_id)" translate>
    Validate
  </div>
</div>
