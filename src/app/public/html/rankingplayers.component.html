<app-common-top-bar active="rankingplayers"></app-common-top-bar>

<div class="container main-full" role="main">
  <div class="row">
    <div class="card card-column">
      <div class="card-body">
        <h1 class="text-center" id="rankingDesc" translate>Player Ranking</h1>
        <table class="table table-striped table-middle align-middle"
               aria-labelledby="rankingDesc" role="grid">
          <thead>
            <tr class="text-center">
              <th scope="col"></th>
              <th scope="col" (click)="rankingChooseOrder('player')">
                <span role="button" translate>Player</span>
                <ic-icon role="button" [icon]="sortUP"
                         title="{{'Current order'|translate}}"
                         *ngIf="rankingOrder == 'player'"></ic-icon>
              </th>
              <th scope="col" (click)="rankingChooseOrder('level')" class="d-none d-sm-table-cell">
                <span role="button" translate>Level</span>
                <ic-icon role="button" [icon]="sortUP"
                         title="{{'Current order'|translate}}"
                         *ngIf="rankingOrder == 'level'"></ic-icon>
              </th>
              <th scope="col" (click)="rankingChooseOrder('xp')">
                <span role="button" translate>XP</span>
                <ic-icon role="button" [icon]="sortUP"
                         title="{{'Current order'|translate}}"
                         *ngIf="rankingOrder == 'xp'"></ic-icon>
              </th>
              <th scope="col" (click)="rankingChooseOrder('victory')">
                <span role="button" translate>Victories</span>
                <ic-icon role="button" [icon]="sortUP"
                         title="{{'Current order'|translate}}"
                         *ngIf="rankingOrder == 'victory'"></ic-icon>
              </th>
              <th scope="col" (click)="rankingChooseOrder('field')"
                  class="d-none d-sm-table-cell">
                <span role="button" translate>Field</span>
                <ic-icon role="button" [icon]="sortUP"
                         title="{{'Current order'|translate}}"
                         *ngIf="rankingOrder == 'field'"></ic-icon>
              </th>
              <th scope="col" (click)="rankingChooseOrder('honnor')"
                  class="d-none d-sm-table-cell">
                <span role="button" translate>Honnor</span>
                <ic-icon role="button" [icon]="sortUP"
                         title="{{'Current order'|translate}}"
                         *ngIf="rankingOrder == 'honnor'"></ic-icon>
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let p of rankingList">
              <td>
                  {{p.ranking}}
              </td>
              <td>
                <a [routerLink]="['/profile/'+p.membre_id]">
                  {{p.username}}
                </a>
              </td>
              <td class="d-none d-sm-table-cell text-center">{{p.level}}</td>
              <td class="text-end">{{p.xp| number:'': this.translate.currentLang}}</td>
              <td class="text-end">{{p.victory| number:'': this.translate.currentLang}}</td>
              <td class="d-none d-sm-table-cell text-end">{{p.field| number:'': this.translate.currentLang}}</td>
              <td class="d-none d-sm-table-cell text-end">{{p.honnor| number:'': this.translate.currentLang}}</td>
            </tr>
          </tbody>
        </table>
      
        <div *ngIf="rankingMax > 1">
          <br/>
          <div class="input-group">
            <span class="input-group-text" role="button"
                  (click)="rankingPageChange(1)">&lt;&lt;</span>
            <span class="input-group-text" role="button"
                  (click)="rankingPageChange(rankingPage-1)">&lt;</span>
            <select class="form-select" #mySelect
                    (change)="rankingPageChange(mySelect.value)"
                    [ngModel]="rankingPage" title="{{'Change page'|translate}}">
              <option *ngFor="let id of Tools.range(1, rankingMax)"
                      value="{{id}}" translate>Page {{id}}</option>
            </select>
            <span class="input-group-text" role="button"
                  (click)="rankingPageChange(rankingPage+1)">&gt;</span>
            <span class="input-group-text" role="button"
                  (click)="rankingPageChange(rankingMax)">&gt;&gt;</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<app-common-bottom-bar></app-common-bottom-bar>
